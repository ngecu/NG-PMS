{"ast":null,"code":"import _asyncToGenerator from \"/home/devngecu/Desktop/code/ng-pms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class AuthService {\n  constructor() {}\n  login(userLogins) {\n    return _asyncToGenerator(function* () {\n      let response = yield fetch('http://localhost:5000/user/login', {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify(userLogins)\n      });\n      const data = yield response.json();\n      let token = data.token;\n      localStorage.setItem('token', token);\n      return data;\n    })();\n  }\n  registerEmployee(user) {\n    return _asyncToGenerator(function* () {\n      let response = yield fetch('http://localhost:5000/user/register', {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify(user)\n      });\n      const data = yield response.json();\n      console.log(data);\n      return data;\n    })();\n  }\n  static #_ = this.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["AuthService","constructor","login","userLogins","_asyncToGenerator","response","fetch","headers","method","body","JSON","stringify","data","json","token","localStorage","setItem","registerEmployee","user","console","log","_","_2","factory","ɵfac","providedIn"],"sources":["/home/devngecu/Desktop/code/ng-pms/src/app/services/auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { userLogin } from '../interfaces/login';\nimport { user } from '../interfaces/user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor() { }\n\n  async login(userLogins: userLogin){\n    let response = await fetch('http://localhost:5000/user/login', {\n      headers:{\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      body: JSON.stringify(userLogins)\n    })\n\n    const data = await response.json()\n    let token = data.token\n    localStorage.setItem('token', token)\n\n    return data\n  }\n\n  async registerEmployee (user: user){\n    let response = await fetch('http://localhost:5000/user/register', {\n      headers:{\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      body: JSON.stringify(user)\n    })\n\n    const data = await response.json()\n\n    console.log(data);\n\n    return data\n  }\n}\n"],"mappings":";;AAOA,OAAM,MAAOA,WAAW;EAEtBC,YAAA,GAAgB;EAEVC,KAAKA,CAACC,UAAqB;IAAA,OAAAC,iBAAA;MAC/B,IAAIC,QAAQ,SAASC,KAAK,CAAC,kCAAkC,EAAE;QAC7DC,OAAO,EAAC;UACN,cAAc,EAAE;SACjB;QACDC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,UAAU;OAChC,CAAC;MAEF,MAAMS,IAAI,SAASP,QAAQ,CAACQ,IAAI,EAAE;MAClC,IAAIC,KAAK,GAAGF,IAAI,CAACE,KAAK;MACtBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;MAEpC,OAAOF,IAAI;IAAA;EACb;EAEMK,gBAAgBA,CAAEC,IAAU;IAAA,OAAAd,iBAAA;MAChC,IAAIC,QAAQ,SAASC,KAAK,CAAC,qCAAqC,EAAE;QAChEC,OAAO,EAAC;UACN,cAAc,EAAE;SACjB;QACDC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACO,IAAI;OAC1B,CAAC;MAEF,MAAMN,IAAI,SAASP,QAAQ,CAACQ,IAAI,EAAE;MAElCM,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC;MAEjB,OAAOA,IAAI;IAAA;EACb;EAAC,QAAAS,CAAA,G;qBAlCUrB,WAAW;EAAA;EAAA,QAAAsB,EAAA,G;WAAXtB,WAAW;IAAAuB,OAAA,EAAXvB,WAAW,CAAAwB,IAAA;IAAAC,UAAA,EAFV;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}